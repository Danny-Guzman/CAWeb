!function(i){var m,u;i(function(){var e=i(".available-headers");e.length&&e.imagesLoaded(function(){e.masonry({itemSelector:".default-header",isRTL:!("undefined"==typeof isRtl||!isRtl)})}),i(document).on("click","div .library-link",function(e){var t=i(this);u=this.name,e.preventDefault();var a=t.data("option"),n=t.data("uploader"),c=t.data("icon-check")&&t.attr("data-icon-check");a&&0<a.indexOf(",")&&(a=a.split(",")),(m=wp.media.frames.customHeader=wp.media({title:t.data("choose"),library:{type:a},uploader:n,button:{text:t.data("update"),close:!0}})).on("select",function(){var e=m.state().get("selection").first(),t=e.attributes.url,a=e.attributes.alt,n=e.attributes.filename,r=i('input[type="hidden"][name="'+u+'"]'),o=i("#"+u+"_img"),d=i('input[type="text"][id="'+u+'_filename"]');if(/\d+_media_image/.test(u)){var l=document.getElementById(u.substring(0,u.indexOf("_"))+"_caweb_nav_media_image_alt_text");i(l).val(a),i('input[id="'+u+'"]').val(t)}else if("true"!==c)null!==r&&r.val(t),null!==o&&o.attr("src",t),null!==d&&d.val(n),/header_ca_branding/.test(u)&&i("#header_ca_branding_alt_text").val(a);else{var s={action:"caweb_fav_icon_check",icon_url:t};jQuery.post(ajaxurl,s,function(e){1==e?(null!==r&&r.val(t),null!==o&&o.attr("src",t),null!==d&&d.val(n)):alert("Invalid Icon Mime Type: "+n)})}}),m.on("open",function(){if(!n){var e=m.el.getElementsByClassName("media-frame-router")[0].getElementsByClassName("media-router")[0].getElementsByClassName("media-menu-item");e[1].click(),e[0].parentNode.removeChild(e[0])}}),m.open()})})}(jQuery),jQuery(document).ready(function(u){u("#caweb-alert-banners").sortable(),u("#caweb-alert-banners").disableSelection(),u(".remove-alert").click(function(e){r(this)}),u("#add-alert").click(function(e){e.preventDefault(),function(){var e=u("#caweb-alert-banners"),t=u(e).children("li").length+1,a=document.createElement("LI"),n=document.createElement("DIV");u(a).addClass("pl-2"),u(n).addClass("form-row"),u(n).append(function(e){var t=document.createElement("A"),a=document.createElement("H2"),n=document.createElement("SPAN");return u(t).addClass("d-block text-decoration-none"),u(t).attr("href","#alert-banner-"+e),u(t).attr("aria-expanded","true"),u(t).attr("aria-controls","alert-banner-"+e),u(t).attr("data-toggle","collapse"),u(a).addClass("d-inline"),u(a).html("Label"),u(n).addClass("text-secondary ca-gov-icon-"),u(a).append(n),u(t).append(a),t}(t)),u(n).append("\x3c!-- Alert Options --\x3e"),u(n).append(function(e){var t=document.createElement("DIV"),a=document.createElement("INPUT"),n=document.createElement("BUTTON");return u(a).attr("type","checkbox"),u(a).attr("checked","true"),u(a).attr("data-toggle","toggle"),u(a).attr("name","alert-status-"+e),u(a).attr("id","alert-status-"+e),u(a).addClass("form-control"),u(n).addClass("btn btn-danger remove-alert ml-1"),u(n).html("Remove"),n.addEventListener("click",function(e){r(this)}),u(t).append(a),u(t).append(n),u(a).bootstrapToggle({onstyle:"success"}),t}(t)),u(n).append("\x3c!-- Alert Banner Fields --\x3e"),u(n).append(function(e){var t=document.createElement("DIV");return u(t).attr("id","alert-banner-"+e),u(t).addClass("form-row col-sm-12 p-2 collapse show"),u(t).append("\x3c!-- Alert Banner Title --\x3e"),u(t).append(function(e){var t=document.createElement("DIV"),a=document.createElement("LABEL"),n=document.createElement("SMALL"),r=document.createElement("INPUT");return u(t).addClass("form-group col-sm-7"),u(a).attr("for","alert-header-"+e),u(a).addClass("mb-0"),u(a).html("<strong>Title</strong>"),u(n).html("Enter header text for the alert."),u(n).addClass("text-muted d-block mb-2"),u(r).addClass("form-control"),u(r).attr("type","text"),u(r).val("Label"),u(r).attr("placeholder","Label"),u(r).attr("id","alert-header-"+e),u(r).attr("name","alert-header-"+e),u(t).append(a),u(t).append(n),u(t).append(r),t}(e)),u(t).append("\x3c!-- Alert Banner Message --\x3e"),u(t).append(function(e){var t=document.createElement("DIV"),a=document.createElement("LABEL"),n=document.createElement("SMALL"),r=document.createElement("TEXTAREA");return u(t).addClass("form-group col-sm-12"),u(a).attr("for","alert-message-"+e),u(a).html("<strong>Message</strong>"),u(n).addClass("text-muted d-block mb-2"),u(n).html("Enter message for the alert"),u(r).attr("name","alert-message-"+e),u(r).attr("id","alertmessage-"+e),u(r).html("Enter Alert text here..."),u(t).append(a),u(t).append(n),u(t).append(r),t}(e)),u(t).append("\x3c!-- Alert Banner Settings --\x3e"),u(t).append(function(e){var t=document.createElement("DIV");return u(t).addClass("form-group col-sm-12"),u(t).append("\x3c!-- Display On --\x3e"),u(t).append(function(e){var t=document.createElement("DIV"),a=document.createElement("LABEL"),n=document.createElement("SMALL"),r=document.createElement("DIV"),o=document.createElement("INPUT"),d=document.createElement("LABEL"),l=document.createElement("DIV"),s=document.createElement("INPUT"),c=document.createElement("LABEL");return u(t).addClass("form-group col-sm pl-0"),u(t).attr("role","radiogroup"),u(t).attr("aria-label","Alert Display On Options"),u(a).addClass("d-block mb-0"),u(a).html("<strong>Display on</strong>"),u(n).addClass("text-muted d-block mb-2"),u(n).html("Select whether alert should display on home page or on all pages."),u(r).addClass("form-check form-check-inline"),u(o).attr("id","alert-display-home-"+e),u(o).attr("name","alert-display-"+e),u(o).attr("type","radio"),u(o).val("home"),u(o).attr("checked","true"),u(o).addClass("form-check-input"),u(d).addClass("form-check-label"),u(d).attr("for","alert-display-home-"+e),u(d).html("Home Page Only"),u(l).addClass("form-check form-check-inline"),u(s).attr("id","alert-display-all-"+e),u(s).attr("name","alert-display-"+e),u(s).attr("type","radio"),u(s).val("all"),u(s).addClass("form-check-input"),u(c).addClass("form-check-label"),u(c).attr("for","alert-display-all-"+e),u(c).html("All Pages"),u(r).append(o),u(r).append(d),u(l).append(s),u(l).append(c),u(t).append(a),u(t).append(n),u(t).append(r),u(t).append(l),t}(e)),u(t).append("\x3c!-- Banner Color --\x3e"),u(t).append(function(e){var t=document.createElement("DIV"),a=document.createElement("LABEL"),n=document.createElement("SMALL"),r=document.createElement("INPUT");u(t).addClass("form-group col-sm pl-0"),u(a).attr("for","alert-banner-color-"+e),u(a).addClass("d-block mb-0"),u(a).html("<strong>Banner Color</strong>"),u(n).addClass("text-muted d-block mb-2"),u(n).html("Select a color for the alert banner."),u(r).attr("id","alert-banner-color-"+e),u(r).attr("name","alert-banner-color-"+e),u(r).attr("type","color"),u(r).addClass("form-control-sm");var o=u("#ca_site_color_scheme")[0],d=o.options[o.selectedIndex].value;return u(r).val(args.caweb_colors[d].highlight),u(t).append(a),u(t).append(n),u(t).append(r),t}(e)),u(t).append("\x3c!-- Read More --\x3e"),u(t).append(function(e){var t=document.createElement("DIV"),a=document.createElement("LABEL"),n=document.createElement("A"),r=document.createElement("INPUT");return u(t).addClass("form-group pl-0"),u(a).addClass("d-block mb-0"),u(a).html("<strong>Read More Button</strong>"),u(n).attr("data-toggle","collapse"),u(n).attr("href","#alert-banner-read-more-"+e),u(n).attr("aria-expanded","true"),u(n).addClass("shadow-none"),u(r).attr("type","checkbox"),u(r).attr("checked","true"),u(r).attr("name","alert-banner-read-more-"+e),u(r).attr("id","alert-banner-read-more-"+e),u(r).addClass("form-control"),u(n).append(r),u(t).append(a),u(t).append(n),u(r).bootstrapToggle(),t}(e)),u(t).append(function(e){var t=document.createElement("DIV"),a=document.createElement("DIV"),n=document.createElement("LABEL"),r=document.createElement("INPUT"),o=document.createElement("SMALL"),d=document.createElement("DIV"),l=document.createElement("INPUT"),s=document.createElement("LABEL"),c=document.createElement("DIV"),i=document.createElement("INPUT"),m=document.createElement("LABEL");return u(t).attr("id","alert-banner-read-more-"+e),u(t).addClass("collapse show"),u(a).addClass("form-group col-sm-6 pl-0"),u(n).addClass("d-block mb-0"),u(n).html("<strong>Read More Button Text</strong>"),u(r).attr("type","text"),u(r).attr("name","alert-read-more-text-"+e),u(r).attr("id","alert-read-more-text-"+e),u(r).attr("maxlength",16),u(r).addClass("form-control"),u(o).addClass("text-muted"),u(o).html("(Max Characters: 16)"),u(d).addClass("form-group col-sm-6 pl-0 d-inline-block"),u(s).addClass("d-block mb-0"),u(s).html("<strong>Read More Button Url</strong>"),u(l).attr("type","text"),u(l).attr("name","alert-read-more-url-"+e),u(l).attr("id","alert-read-more-url-"+e),u(l).addClass("form-control"),u(c).addClass("form-group col-sm-4 pl-0 d-inline-block align-top"),u(m).addClass("d-block mb-0"),u(m).html("<strong>Open link in New Tab</strong>"),u(i).attr("type","checkbox"),u(i).attr("checked","true"),u(i).attr("data-toggle","toggle"),u(i).attr("name","alert-read-more-target-"+e),u(i).attr("id","alert-read-more-target-"+e),u(i).addClass("form-control"),u(a).append(n),u(a).append(r),u(a).append(o),u(d).append(s),u(d).append(l),u(c).append(m),u(c).append(i),u(t).append(a),u(t).append(d),u(t).append(c),u(i).bootstrapToggle({on:"Yes",off:"No"}),t}(e)),u(t).append("\x3c!-- Banner Icon --\x3e"),u(t).append(function(e){var t=document.createElement("DIV");u(t).addClass("form-group col-sm-12 d-inline-block pl-0");var a={action:"caweb_icon_menu",name:"alert-icon-"+e,select:"important",header:"Icon"};return u.post(ajaxurl,a,function(e){u(t).html(e)}),t}(e)),t}(e)),t}(t)),u(a).append("\x3c!-- Alert Banner Row --\x3e"),u(a).append(n),u(e).append(a),wp.editor.initialize("alertmessage-"+t,args.tinymce_settings),changeMade=!0}()});var r=function(e){1==confirm("Are you sure you want to remove this alert? This can not be undone.")&&(changeMade=!0,u(e).parent().parent().parent().remove())}}),jQuery(document).ready(function(n){function a(e){var t=n(e).find("LI");for(o=0;o<t.length-1;o++)n(t[o]).removeClass("active");var a=n(e).find("input");a.length&&n(a).val("")}n(document).on("click",".caweb-icon-menu li",function(e){!function(e){a(n(e).parent()),n(e).addClass("active");var t=n(e).parent().find("input");t.length&&n(t).val(n(e).attr("title"))}(this)}),n(document).on("click",".caweb-icon-menu-header .resetIcon",function(e){a(n(this).parent().next())})}),jQuery(document).ready(function(o){o("#uploaded-css, #uploaded-js").sortable(),o("#uploaded-css, #uploaded-js").disableSelection(),o(".remove-css, .remove-js").click(function(e){e.preventDefault(),1==confirm("Are you sure you want to remove "+this.title+"? This can not be undone.")&&(changeMade=!0,this.parentNode.remove())}),o("#add-css, #add-js").click(function(e){e.preventDefault();var t=o(this).attr("id").replace("add-","");!function(e,a){var t=document.createElement("LI"),n=document.createElement("INPUT"),r=document.createElement("a");t.classList="list-group-item",o(n).attr("type","file"),o(n).attr("name","caweb_external_"+a+"[]"),o(n).attr("accept","."+a),o(n).attr("data-section","custom-"+a),o(n).addClass("form-control-file border-bottom border-warning pl-2 d-inline-block w-75"),n.addEventListener("change",function(){var e=this.value.substring(this.value.lastIndexOf("\\")+1),t=0<e.lastIndexOf(".")?e.substring(e.lastIndexOf(".")+1).toLowerCase():"";""===t||a!==t?(alert(e+" isn't a valid "+a+" extension and was not uploaded."),o(this).parent().remove()):r.title="remove "+e}),r.classList="dashicons dashicons-dismiss text-danger align-middle",r.addEventListener("click",function(e){e.preventDefault(),1==(""===this.title||confirm("Are you sure you want to "+this.title+"? This can not be undone."))&&(changeMade=!0,o(this).parent().remove())}),o(t).append(r),o(t).append(n),o(e).append(t)}(o("#uploaded-"+t),t),changeMade=!0})}),jQuery(document).ready(function(s){"use strict";function a(){var e=s(this).attr("id").substr(s(this).attr("id").lastIndexOf("-")+1),t=s("#menu-item-"+e),a=s("#menu-item-settings-"+e+" .icon-selector"),n=s("#menu-item-settings-"+e+" .media-image"),r=s("#menu-item-settings-"+e+" .field-description"),o=s("#menu-item-settings-"+e+" .mega-menu-images"),d=s("#menu-item-settings-"+e+" .unit-size-selector"),l=s(d).val();s(t).hasClass("menu-item-depth-0")?(s(o).removeClass("hidden"),s(a).removeClass("hidden"),s(n).addClass("hidden"),s(d).addClass("hidden"),s(r).addClass("hidden-field")):(s(o).addClass("hidden"),s(d).removeClass("hidden"),"unit1"!==l?s(r).addClass("hidden-field"):s(r).removeClass("hidden-field"),"unit3"===l?(s(a).addClass("hidden"),s(n).removeClass("hidden")):(s(a).removeClass("hidden"),s(n).addClass("hidden")))}s(document).on("click",'input[name="save_menu"]',function(r){s('.media-image:not(.hidden) input[name$="_caweb_nav_media_image_alt_text"]').each(function(e,t){if(""===s(t).val().trim()){var a=s(t).attr("id").substring(0,s(t).attr("id").indexOf("_")),n=s("#edit-menu-item-title-"+a).val();alert(n+" Navigation Media Image Alt Text can not be blank."),r.preventDefault()}})}),s(document).on("change","div .unit-size-selector",function(){var e=s(this).attr("id").substr(s(this).attr("id").lastIndexOf("-")+1),t=s("#menu-item-settings-"+e+" .icon-selector"),a=s("#menu-item-settings-"+e+" .media-image"),n=s("#menu-item-settings-"+e+" .field-description"),r=s(this).val();"unit1"===r?s(n).addClass("hidden-field"):s(n).removeClass("hidden-field"),"unit3"===r?(s(a).removeClass("hidden"),s(t).addClass("hidden")):(s(a).addClass("hidden"),s(t).removeClass("hidden"))}),s(document).on("DOMSubtreeModified","#menu-to-edit",function(){s(".pending a.item-edit").each(function(e,t){s(t).on("click",a)})}),s(".item-edit").click(a)}),jQuery(document).ready(function(n){"use strict";var r=!1;n(window).on("beforeunload",function(){if(r&&"nav-menus.php"!==args.changeCheck)return"Are you sure you want to leave?"}),n("#caweb-options-form select,#caweb-options-form input").on("change",function(){r=!0}),n("#caweb-options-form input").on("input",function(){r=!0}),n('#caweb-options-form input[type="button"],#caweb-options-form button:not(.doc-sitemap)').on("click",function(){r=!0}),n("#caweb-options-form").submit(function(e){e.preventDefault();var t=n('input[name="caweb_external_css[]"], input[name="caweb_external_js[]"]'),a=!1;n(t).each(function(e){if(""===n(this).val()&&!a){a=!0;var t="#"+n(this).attr("data-section");n(t).collapse("show"),alert("Uploaded "+n(this).attr("data-section").replace("-"," ")+" has no file chosen.")}}),a||(r=!1,this.submit())}),n(".menu-list li a").on("click",function(e){n(this).parent().parent().find("li").each(function(e,t){n(t).removeClass("selected")}),n(this).parent().addClass("selected"),n('input[name="tab_selected"]').val(n(this).attr("href").replace("#",""))}),n("#resetFavIcon").click(function(){var e=args.defaultFavIcon,t=e.substring(e.lastIndexOf("/")+1);n('input[type="text"][name="ca_fav_ico"]').val(t),n('input[type="hidden"][name="ca_fav_ico"]').val(e),n("#ca_fav_ico_img").attr("src",e),r=!0}),n("#ca_site_version").on("change",function(e){var t="5.5"===n(this).val(),a=n('label[for="ca_cdn_enabled"]').parent();t?n(a).removeClass("d-none"):n(a).addClass("d-none")}),n("#ca_google_search_id").on("input",function(e){var t=n('label[for="ca_frontpage_search_enabled"]').parent();this.value.trim()?5<=site_version&&t.removeClass("invisible"):t.addClass("invisible")}),n("#ca_x_ua_compatibility").on("change",function(e){var t=this.checked,a=n(this).parent().next();t?a.html("IE 11 browser compatibility enabled. Warning: creates accessibility errors when using IE browsers."):a.html("")}),n('input[name^="ca_google_trans_enabled"]').click(function(){"ca_google_trans_enabled_custom"!==n(this).attr("id")?n("#ca_google_trans_enabled_custom_extras").collapse("hide"):n("#ca_google_trans_enabled_custom_extras").collapse("show")}),n("button.doc-sitemap").click(function(e){e.preventDefault();n.post(ajaxurl,{action:"create_doc_sitemap"},function(e){n(".doc-sitemap-update").html(e)})})});